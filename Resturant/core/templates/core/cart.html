{% extends "core/base.html" %}
{% load static %}
{% block title%} About Us {% endblock title%}
{% block content %}

<div class="container" style="padding-top: 120px; padding-bottom: 40px; text-align: center;">
  <h2 class="cart-text">Your Shopping Cart</h2>
  <div class="row">
    
    <!-- Cart Items -->
    <div class="col-lg-8">
      <div class="card cart-card p-3 mb-3">
        {% for item in cart_items %}
        <div class="d-flex align-items-center justify-content-between border-bottom py-3">
          <div class="d-flex align-items-center gap-3">
            <img src="{{ item.product.image.url }}" class="cart-img" alt="{{ item.product.name }}">
            <div>
              <h5 class="mb-1">{{ item.product.name }}</h5>
              <p class="mb-0 text-muted">Rs. {{ item.product.price }}</p>
            </div>
          </div>
          <div class="d-flex align-items-center gap-2">
            <form action="{% url 'decrease_quantity' item.id %}" method="post">{% csrf_token %}
              <button type="submit" class="btn btn-light btn-quantity">-</button>
            </form>
            <span>{{ item.quantity }}</span>
            <form action="{% url 'increase_quantity' item.id %}" method="post">{% csrf_token %}
              <button type="submit" class="btn btn-light btn-quantity">+</button>
            </form>
          </div>
          <div>
            <p class="mb-0 fw-bold">Rs. {{ item.total_price }}</p>
          </div>
          <form action="{% url 'remove_from_cart' item.id %}" method="post">{% csrf_token %}
            <button type="submit" class="btn btn-outline-danger btn-sm"><i class="fa-solid fa-trash"></i></button>
          </form>
        </div>
        {% empty %}
        <p class="text-center my-3">Your cart is empty ðŸ›’</p>
        {% endfor %}
      </div>
    </div>

    <!-- Cart Summary -->
    <div class="col-lg-4">
      <div class="summary-card">
        <h5 class="mb-3">Order Summary</h5>
        <div class="d-flex justify-content-between mb-2">
          <span>Subtotal</span>
          <span>Rs. {{ subtotal }}</span>
        </div>
        <div class="d-flex justify-content-between mb-2">
          <span>Shipping</span>
          <span>Rs. {{ shipping }}</span>
        </div>
        <hr>
        <div class="d-flex justify-content-between fw-bold mb-3">
          <span>Total</span>
          <span>Rs. {{ total }}</span>
        </div>
        <a href="" class="checkout-btn">
            <button>Proceed to Checkout</button></a>
      </div>
    </div>
  </div>
</div>


 {% endblock content %}